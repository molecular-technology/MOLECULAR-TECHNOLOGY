<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Molecular Technology - Innovations</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montagu+Slab&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/komika-axis" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/gorilla" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            background: #000;
            color: #fff;
            font-family: 'Lato', sans-serif;
        }
        h1.title {
            font-family: 'Komika Axis', sans-serif;
            text-align: center;
            font-size: 3em;
            margin: 20px 0;
            animation: fadeIn 2s ease-out;
        }
        #typing {
            font-family: 'Montagu Slab', serif;
            text-align: center;
            margin: 10px;
            min-height: 1.2em;
        }
        hr {
            border: none;
            height: 2px;
            background: #FF0000;
            margin: 10px 0 20px;
            width: 80%;
            margin-left: auto;
            margin-right: auto;
        }
        nav {
            text-align: center;
            margin: 10px 0;
        }
        nav ul {
            list-style: none;
            padding: 0;
        }
        nav ul li {
            display: inline-block;
            margin: 0 10px;
        }
        nav ul li a {
            color: #fff;
            text-decoration: none;
            font-family: 'Gorilla', sans-serif;
            padding: 8px 12px;
            border: 1px solid #FF0000;
            border-radius: 5px;
            transition: box-shadow 0.3s;
        }
        nav ul li a:hover {
            box-shadow: 0 0 10px #FF0000;
        }
        nav ul li a.active {
            background: #FF0000;
            color: #000;
        }
        .search-container {
            position: relative;
            width: 300px;
            margin: 20px auto;
        }
        #search {
            width: 100%;
            padding: 8px;
            font-size: 1em;
            background: #333;
            border: 1px solid #FF0000;
            color: #fff;
            border-radius: 4px;
        }
        #suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: #333;
            border: 1px solid #FF0000;
            display: none;
            z-index: 100;
            max-height: 150px;
            overflow-y: auto;
            border-top: none;
        }
        .suggestion {
            padding: 5px;
            cursor: pointer;
            color: #fff;
        }
        .suggestion:hover {
            background: #444;
        }
        .filters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }
        .filters select {
            padding: 5px;
            background: #333;
            color: #fff;
            border: 1px solid #FF0000;
            border-radius: 4px;
        }
        .sections {
            display: flex;
            overflow-x: auto;
            padding: 10px 0;
            margin-bottom: 10px;
        }
        .section-button {
            flex: none;
            background: none;
            border: 2px solid #FF0000;
            color: #fff;
            padding: 8px 12px;
            margin-right: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: box-shadow 0.3s, background 0.3s;
        }
        .section-button:hover {
            box-shadow: 0 0 10px #FF0000;
        }
        .section-button.active {
            background: #FF0000;
            color: #000;
        }
        #product-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            transition: opacity 0.5s ease;
        }
        .product-card {
            background: #111;
            border: 1px solid #222;
            border-radius: 8px;
            display: flex;
            width: 300px;
            margin: 10px;
        }
        .icon {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px 0 0 8px;
        }
        .card-content {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 10px;
            flex: 1;
        }
        .product-info h3 {
            margin: 0 0 5px;
        }
        .product-info .category {
            color: #FF0000;
            font-size: 0.9em;
            margin: 0;
        }
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .price.free {
            color: #0f0;
        }
        .price.paid {
            color: #f00;
        }
        .view-more-btn {
            background: #FF0000;
            color: #000;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 4px;
            transition: box-shadow 0.3s;
        }
        .view-more-btn:hover {
            box-shadow: 0 0 10px #FF0000;
        }
        .placeholder {
            color: #888;
            font-size: 1.2em;
            margin: 20px;
            text-align: center;
        }
        #modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            justify-content: center;
            align-items: center;
            overflow: auto;
            padding: 20px;
        }
        .modal-open #modal {
            display: flex;
        }
        .modal-content {
            background: #222;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            width: 100%;
            max-width: 800px;
        }
        .close-button {
            float: right;
            font-size: 24px;
            cursor: pointer;
        }
        .icon-large {
            width: 80px;
            height: 80px;
            border-radius: 8px;
        }
        .screenshots img {
            width: 100px;
            margin: 5px;
            border: 1px solid #333;
            border-radius: 4px;
        }
        .similar-items {
            display: flex;
        }
        .similar-item {
            text-align: center;
            margin-right: 10px;
            cursor: pointer;
        }
        .similar-item img {
            width: 50px;
            height: 50px;
            border-radius: 4px;
        }
        .review {
            border-top: 1px solid #333;
            margin-top: 10px;
            padding-top: 5px;
        }
        .add-review input, .add-review select, .add-review textarea {
            display: block;
            width: 100%;
            margin: 5px 0;
            padding: 5px;
            background: #333;
            color: #fff;
            border: 1px solid #FF0000;
            border-radius: 4px;
            font-family: 'Lato', sans-serif;
        }
        .add-review textarea {
            height: 60px;
        }
        .download-btn {
            display: block;
            width: 100%;
            background: #FF0000;
            color: #000;
            border: none;
            padding: 10px;
            font-size: 1.1em;
            margin-top: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: box-shadow 0.3s;
        }
        .download-btn:hover {
            box-shadow: 0 0 10px #FF0000;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#" class="active">Innovations</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
    </nav>
    <h1 class="title">INNOVATIONS</h1>
    <p id="typing"></p>
    <hr>
    <div class="search-container">
        <input type="text" id="search" placeholder="Search innovations...">
        <div id="suggestions"></div>
    </div>
    <div class="filters">
        Category:
        <select id="filterCategory">
            <option>All</option>
            <option>App</option>
            <option>Game</option>
            <option>Book</option>
            <option>Gadget</option>
            <option>More</option>
        </select>
        Type:
        <select id="filterType">
            <option>All</option>
            <option>Productivity</option>
            <option>Health</option>
            <option>Action</option>
            <option>Adventure</option>
            <option>Education</option>
            <option>Fiction</option>
        </select>
        Platform:
        <select id="filterPlatform">
            <option>All</option>
            <option>Mobile</option>
            <option>PC</option>
        </select>
        Price:
        <select id="filterPrice">
            <option>All</option>
            <option>Free</option>
            <option>Paid</option>
        </select>
    </div>
    <div class="sections">
        <button class="section-button active" data-section="All">All</button>
        <button class="section-button" data-section="Apps">Apps</button>
        <button class="section-button" data-section="Games">Games</button>
        <button class="section-button" data-section="Books">Books</button>
        <button class="section-button" data-section="Gadgets">Gadgets</button>
        <button class="section-button" data-section="More">More</button>
    </div>
    <div id="product-container"></div>
    <div id="modal"></div>
    <script>
        var products = [
            {
                "id": "app1",
                "name": "Smart Organizer",
                "category": "App",
                "type": "Productivity",
                "platform": "Mobile",
                "price": "Free",
                "downloads": "1M+",
                "rating": 4.5,
                "size": "20 MB",
                "short_desc": "Keep your tasks organized and manageable.",
                "full_desc": "Smart Organizer is a comprehensive productivity app designed to help you manage tasks, set reminders, and organize your schedule efficiently. With its intuitive interface and powerful features, you can stay on top of your daily routine and never miss an important event. The app supports sync across devices and integrates with calendars, ensuring all your plans are in one place. Enjoy themes and customization options for a personalized experience.",
                "icon": "https://via.placeholder.com/100/FF0000/FFFFFF?text=App+1",
                "screenshots": [
                    "https://via.placeholder.com/300x200/FF0000/FFFFFF?text=Screenshot+1",
                    "https://via.placeholder.com/300x200/FF0000/FFFFFF?text=Screenshot+2"
                ],
                "androidOS": "Android 6.0 and up",
                "updated": "2025-05-10",
                "internet": "No",
                "storage": "20 MB",
                "version": "1.2.3",
                "age": "Everyone",
                "similar": ["app2", "game1"],
                "reviews": [
                    {"user": "Alice", "rating": 5, "comment": "Very useful app, highly recommend!"},
                    {"user": "Bob", "rating": 4, "comment": "Good features but could improve UI."}
                ],
                "externalLink": ""
            },
            {
                "id": "app2",
                "name": "Health Tracker",
                "category": "App",
                "type": "Health",
                "platform": "Mobile",
                "price": "Free",
                "downloads": "500K+",
                "rating": 4.0,
                "size": "15 MB",
                "short_desc": "Track your workouts and monitor your health metrics.",
                "full_desc": "Health Tracker is your companion for a healthier lifestyle. Log your workouts, monitor your heart rate, and track calories burned. The app also provides nutrition tracking and integrates with wearable devices. Achieve your fitness goals with personalized workout plans and daily insights into your health.",
                "icon": "https://via.placeholder.com/100/00CC00/FFFFFF?text=App+2",
                "screenshots": [
                    "https://via.placeholder.com/300x200/00CC00/FFFFFF?text=Screenshot+1",
                    "https://via.placeholder.com/300x200/00CC00/FFFFFF?text=Screenshot+2"
                ],
                "androidOS": "Android 5.0 and up",
                "updated": "2025-04-20",
                "internet": "Yes (for sync)",
                "storage": "15 MB",
                "version": "2.0.1",
                "age": "Everyone",
                "similar": ["app1", "game2"],
                "reviews": [
                    {"user": "Charlie", "rating": 5, "comment": "Great for tracking my fitness journey."},
                    {"user": "Dana", "rating": 4, "comment": "Useful but sometimes crashes on older devices."}
                ],
                "externalLink": ""
            },
            {
                "id": "game1",
                "name": "Space Shooter",
                "category": "Game",
                "type": "Action",
                "platform": "Mobile",
                "price": "Free",
                "downloads": "2M+",
                "rating": 4.7,
                "size": "50 MB",
                "short_desc": "Defend the galaxy in this classic space shooter.",
                "full_desc": "Space Shooter is a fast-paced action game where you pilot a spaceship and fight off waves of alien enemies. Enjoy multiple levels, power-ups, and boss battles. The game features stunning graphics and intense gameplay. Earn high scores and compete with friends on leaderboards.",
                "icon": "https://via.placeholder.com/100/0000FF/FFFFFF?text=Game+1",
                "screenshots": [
                    "https://via.placeholder.com/300x200/0000FF/FFFFFF?text=Screenshot+1",
                    "https://via.placeholder.com/300x200/0000FF/FFFFFF?text=Screenshot+2"
                ],
                "androidOS": "Android 7.0 and up",
                "updated": "2025-03-15",
                "internet": "No",
                "storage": "50 MB",
                "version": "3.1.0",
                "age": "10+",
                "similar": ["game2", "app1"],
                "reviews": [
                    {"user": "Eve", "rating": 5, "comment": "Addictive gameplay and great graphics!"},
                    {"user": "Frank", "rating": 4, "comment": "Fun but a bit repetitive."}
                ],
                "externalLink": ""
            },
            {
                "id": "game2",
                "name": "Mystery Quest",
                "category": "Game",
                "type": "Adventure",
                "platform": "Mobile",
                "price": "Paid",
                "downloads": "100K+",
                "rating": 4.8,
                "size": "100 MB",
                "short_desc": "Solve mysteries in a thrilling adventure game.",
                "full_desc": "Mystery Quest is an immersive adventure game with puzzles and mysteries to solve. Explore different worlds, find clues, and unravel a captivating story. The game offers stunning visuals, engaging gameplay, and multiple endings based on your choices. Enhance your detective skills and enjoy a rich narrative experience.",
                "icon": "https://via.placeholder.com/100/FF00FF/FFFFFF?text=Game+2",
                "screenshots": [
                    "https://via.placeholder.com/300x200/FF00FF/FFFFFF?text=Screenshot+1",
                    "https://via.placeholder.com/300x200/FF00FF/FFFFFF?text=Screenshot+2"
                ],
                "androidOS": "Android 8.0 and up",
                "updated": "2025-02-10",
                "internet": "No",
                "storage": "100 MB",
                "version": "1.0.5",
                "age": "12+",
                "similar": ["game1", "app2"],
                "reviews": [
                    {"user": "Gina", "rating": 5, "comment": "Loved the story and puzzles!"},
                    {"user": "Hank", "rating": 4, "comment": "Great game but a bit short."}
                ],
                "externalLink": "https://example.com/mystery-quest"
            },
            {
                "id": "book1",
                "name": "Learn JavaScript",
                "category": "Book",
                "type": "Education",
                "platform": "N/A",
                "price": "Free",
                "downloads": "50K+",
                "rating": 4.6,
                "size": "500 KB",
                "short_desc": "A comprehensive guide to JavaScript programming.",
                "full_desc": "Learn JavaScript is an in-depth guide to mastering JavaScript programming. Covers fundamentals, advanced concepts, and practical examples. Perfect for beginners and experienced developers looking to enhance their skills. Includes exercises, quizzes, and projects to practice as you learn.",
                "icon": "https://via.placeholder.com/150x200/333333/FFFFFF?text=JS+Book",
                "screenshots": [
                    "https://via.placeholder.com/300x200/333333/FFFFFF?text=Page+1",
                    "https://via.placeholder.com/300x200/333333/FFFFFF?text=Page+2"
                ],
                "androidOS": "5+",
                "updated": "2025-01-01",
                "internet": "No",
                "storage": "500 KB",
                "version": "1.0.0",
                "age": "All Ages",
                "similar": ["book2", "app2"],
                "reviews": [
                    {"user": "Ian", "rating": 5, "comment": "Great resource for learning JS."},
                    {"user": "Jill", "rating": 4, "comment": "Very informative, well structured."}
                ],
                "externalLink": "https://example.com/learn-js"
            },
            {
                "id": "book2",
                "name": "Mystery Tales",
                "category": "Book",
                "type": "Fiction",
                "platform": "N/A",
                "price": "Paid",
                "downloads": "10K+",
                "rating": 4.9,
                "size": "300 KB",
                "short_desc": "Collection of short mystery stories.",
                "full_desc": "Mystery Tales is an anthology of gripping short stories full of suspense and mystery. Each story offers unique twists and surprises that will keep you engaged until the last page. Perfect for mystery lovers and readers who enjoy thrilling narratives. Written by award-winning authors in the genre.",
                "icon": "https://via.placeholder.com/150x200/666666/FFFFFF?text=Mystery+Book",
                "screenshots": [
                    "https://via.placeholder.com/300x200/666666/FFFFFF?text=Page+1",
                    "https://via.placeholder.com/300x200/666666/FFFFFF?text=Page+2"
                ],
                "androidOS": "",
                "updated": "2024-12-01",
                "internet": "No",
                "storage": "300 KB",
                "version": "1.0.0",
                "age": "13+",
                "similar": ["book1", "game2"],
                "reviews": [
                    {"user": "Kyle", "rating": 5, "comment": "Couldn't put it down!"},
                    {"user": "Laura", "rating": 5, "comment": "Loved the short stories collection."}
                ],
                "externalLink": "https://example.com/mystery-tales"
            }
        ];

        var currentSection = "All";
        var filterCategory = "All";
        var filterType = "All";
        var filterPlatform = "All";
        var filterPrice = "All";

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize section buttons
            var sectionButtons = document.querySelectorAll('.section-button');
            sectionButtons.forEach(function(btn) {
                btn.addEventListener('click', function() {
                    sectionButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentSection = this.dataset.section;
                    filterCategory = "All"; // reset filters when changing section
                    document.getElementById('filterCategory').value = 'All';
                    document.getElementById('filterType').value = 'All';
                    document.getElementById('filterPlatform').value = 'All';
                    document.getElementById('filterPrice').value = 'All';
                    renderProducts();
                });
            });

            // Search input
            var searchInput = document.getElementById('search');
            searchInput.addEventListener('keyup', function() {
                showSuggestions(this.value);
                renderProducts(); // update product list as well
            });

            // Filter dropdowns
            document.getElementById('filterCategory').addEventListener('change', function() {
                filterCategory = this.value;
                renderProducts();
            });
            document.getElementById('filterType').addEventListener('change', function() {
                filterType = this.value;
                renderProducts();
            });
            document.getElementById('filterPlatform').addEventListener('change', function() {
                filterPlatform = this.value;
                renderProducts();
            });
            document.getElementById('filterPrice').addEventListener('change', function() {
                filterPrice = this.value;
                renderProducts();
            });

            renderProducts(); // initial render

            // Typing animation
            var slogan = "This Page Gives You Access To Download And Purchase Each Of Our Innovations.";
            var i = 0;
            function typeWriter() {
                if (i < slogan.length) {
                    document.getElementById("typing").innerHTML += slogan.charAt(i);
                    i++;
                    setTimeout(typeWriter, 50);
                }
            }
            typeWriter();
        });

        // Filter function
        function renderProducts() {
            var container = document.getElementById('product-container');
            container.innerHTML = '';
            var filtered = products.slice();

            // Section filter
            if (currentSection !== "All") {
                if (currentSection === "Gadgets" || currentSection === "More") {
                    container.innerHTML = "<div class='placeholder'>Content coming soon in this section!</div>";
                    return;
                }
                // remove trailing 's' for plural
                var sectionCat = currentSection.slice(0, -1);
                filtered = filtered.filter(p => p.category === sectionCat);
            }

            // Dropdown filter: Category
            if (filterCategory && filterCategory !== "All") {
                filtered = filtered.filter(p => p.category === filterCategory);
            }
            // Type
            if (filterType && filterType !== "All") {
                filtered = filtered.filter(p => p.type === filterType);
            }
            // Platform
            if (filterPlatform && filterPlatform !== "All") {
                filtered = filtered.filter(p => p.platform === filterPlatform);
            }
            // Price
            if (filterPrice && filterPrice !== "All") {
                filtered = filtered.filter(p => p.price === filterPrice);
            }
            // Search
            var query = document.getElementById('search').value.toLowerCase();
            if (query) {
                filtered = filtered.filter(p => p.name.toLowerCase().includes(query) || (p.type && p.type.toLowerCase().includes(query)));
            }

            // Render cards
            if (filtered.length === 0) {
                container.innerHTML = "<div class='placeholder'>No products found matching criteria.</div>";
                return;
            }
            filtered.forEach(function(p) {
                var card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <img src="${p.icon}" alt="${p.name}" class="icon">
                    <div class="card-content">
                        <div class="product-info">
                            <h3>${p.name}</h3>
                            <p class="category">${p.category}</p>
                            <p>${p.short_desc}</p>
                            <p><strong>Downloads:</strong> ${p.downloads} &nbsp; <strong>Rating:</strong> ${p.rating} ⭐</p>
                            <p><strong>Size:</strong> ${p.size}</p>
                        </div>
                        <div class="card-footer">
                            <span class="price ${p.price === 'Free' ? 'free' : 'paid'}">${p.price}</span>
                            <button class="view-more-btn" data-id="${p.id}">View More</button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });

            // Add event listeners for view more buttons
            document.querySelectorAll('.view-more-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    var prodId = this.dataset.id;
                    showModal(prodId);
                });
            });
        }

        // Search suggestions
        function showSuggestions(text) {
            var suggestionBox = document.getElementById('suggestions');
            suggestionBox.innerHTML = '';
            if (!text) {
                suggestionBox.style.display = 'none';
                return;
            }
            var suggestions = products.filter(p => p.name.toLowerCase().includes(text.toLowerCase()));
            if (suggestions.length === 0) {
                suggestionBox.style.display = 'none';
                return;
            }
            suggestions.slice(0,5).forEach(p => {
                var div = document.createElement('div');
                div.className = 'suggestion';
                div.innerText = p.name;
                div.addEventListener('click', function() {
                    document.getElementById('search').value = p.name;
                    suggestionBox.style.display = 'none';
                    renderProducts();
                });
                suggestionBox.appendChild(div);
            });
            suggestionBox.style.display = 'block';
        }

        // Modal
        function showModal(id) {
            var prod = products.find(p => p.id === id);
            if (!prod) return;
            // Build modal content
            var modal = document.getElementById('modal');
            var similarHtml = '';
            if (prod.similar && prod.similar.length > 0) {
                prod.similar.forEach(sid => {
                    var sp = products.find(x => x.id === sid);
                    if (sp) {
                        similarHtml += `<div class="similar-item" onclick="showModal('${sp.id}')"><img src="${sp.icon}" alt="${sp.name}"><p>${sp.name}</p></div>`;
                    }
                });
            }
            var reviewsHtml = '';
            if (prod.reviews && prod.reviews.length > 0) {
                prod.reviews.forEach(r => {
                    reviewsHtml += `<div class="review"><strong>${r.user}</strong> (${r.rating}⭐): <p>${r.comment}</p></div>`;
                });
            }
            modal.innerHTML = `
                <div class="modal-content">
                    <span class="close-button" onclick="closeModal()">&times;</span>
                    <div class="modal-header">
                        <img src="${prod.icon}" alt="${prod.name}" class="icon-large">
                        <h2>${prod.name}</h2>
                        <p class="rating">${prod.rating} ⭐</p>
                    </div>
                    <p><strong>Full Description:</strong> ${prod.full_desc}</p>
                    <p><strong>Android OS:</strong> ${prod.androidOS || 'N/A'}</p>
                    <p><strong>Last Updated:</strong> ${prod.updated}</p>
                    <p><strong>Internet Needed:</strong> ${prod.internet}</p>
                    <p><strong>Storage Needed:</strong> ${prod.storage}</p>
                    <p><strong>Downloads:</strong> ${prod.downloads}</p>
                    <p><strong>Version:</strong> ${prod.version}</p>
                    <p><strong>Age Rating:</strong> ${prod.age}</p>
                    <h3>Screenshots:</h3>
                    <div class="screenshots">
                        ${prod.screenshots.map(img => `<img src="${img}" alt="Screenshot">`).join('')}
                    </div>
                    <h3>Similar:</h3>
                    <div class="similar-items">${similarHtml}</div>
                    <h3>User Reviews:</h3>
                    <div id="reviews-section">${reviewsHtml}</div>
                    <div class="add-review">
                        <input type="text" id="review-user" placeholder="Your Name" />
                        <select id="review-rating">
                            <option value="5">5 ⭐</option>
                            <option value="4">4 ⭐</option>
                            <option value="3">3 ⭐</option>
                            <option value="2">2 ⭐</option>
                            <option value="1">1 ⭐</option>
                        </select>
                        <textarea id="review-comment" placeholder="Your review"></textarea>
                        <button id="add-review-btn">Add Review</button>
                    </div>
                    <button class="download-btn">${(prod.category === 'Book' || prod.price === 'Paid') ? 'Buy Now' : 'Download Now'}</button>
                </div>
            `;
            document.body.classList.add('modal-open');

            // Add review functionality
            document.getElementById('add-review-btn').addEventListener('click', function() {
                var user = document.getElementById('review-user').value;
                var rating = document.getElementById('review-rating').value;
                var comment = document.getElementById('review-comment').value;
                if (!user || !comment) {
                    alert('Please provide name and review.');
                    return;
                }
                var newReview = {user: user, rating: parseInt(rating), comment: comment};
                prod.reviews.push(newReview);
                // update display
                var reviewsSection = document.getElementById('reviews-section');
                var newDiv = document.createElement('div');
                newDiv.className = 'review';
                newDiv.innerHTML = `<strong>${user}</strong> (${rating}⭐): <p>${comment}</p>`;
                reviewsSection.appendChild(newDiv);
                // clear inputs
                document.getElementById('review-user').value = '';
                document.getElementById('review-comment').value = '';
            });
            // Download/Buy button click
            var downloadBtn = document.querySelector('.download-btn');
            if (prod.category === 'Book' || prod.price === 'Paid') {
                downloadBtn.addEventListener('click', function() {
                    window.open(prod.externalLink || 'https://example.com', '_blank');
                });
            } else {
                downloadBtn.addEventListener('click', function() {
                    alert('Downloading ' + prod.name);
                });
            }
        }

        // Close modal
        function closeModal() {
            var modal = document.getElementById('modal');
            document.body.classList.remove('modal-open');
            modal.innerHTML = '';
        }
    </script>
</body>
</html>
